<!-- Header -->
<header class="gradient-bg text-white shadow-lg">
  <div class="container py-4">
    <div class="d-flex justify-content-between align-items-center">
      <div class="d-flex align-items-center gap-3">
        <img src="../../../assets/img/logo/logo.png" alt="Logo" class="align-self-start mt-1" style="width: 42px; height: 42px;" />
        <div>
          <h1 class="h4 fw-bold mb-0">Portal Intranet</h1>
          <p class="text-light small">Bem-vindo (a) ao nosso portal corporativo</p>
        </div>
      </div>

      <div>
        <!-- Mostra botão de login apenas se não estiver logado -->
        <button *ngIf="!isLoggedIn" (click)="openLoginModal()" class="btn btn-light fw-semibold" style="color: #1a8dc3">
          <i class="fas fa-sign-in-alt me-2"></i>Login Admin
        </button>

        <!-- Mostra botão de ir para o admin se estiver logado -->
        <button *ngIf="isLoggedIn" (click)="goToAdmin()" class="btn btn-light fw-semibold" style="color: #1a8dc3">
          <i class="fas fa-tools me-2"></i>Área Administrativa
        </button>
      </div>
    </div>
  </div>
</header>


<!-- Modal de Login -->
<div *ngIf="showLogin && !mostrarTrocaSenha" class="modal-overlay">
  <div class="modal-content animate__animated animate__fadeInDown">
    <div class="text-center mb-4">
      <i class="fas fa-user-shield fa-3x text-primary mb-3"></i>
      <h2 class="h5 font-weight-bold text-dark">Login Administrativo</h2>
    </div>
    <form (ngSubmit)="login()">
      <div class="mb-3">
        <label class="form-label">Usuário</label>
        <input type="text" class="form-control" [(ngModel)]="loginData.username" name="username" required />
      </div>
      <div class="mb-3">
        <label class="form-label">Senha</label>
        <input type="password" class="form-control" [(ngModel)]="loginData.password" name="password" required />
      </div>
      <div class="d-flex justify-content-between">
        <button type="button" (click)="closeLoginModal()" class="btn btn-link">Cancelar</button>
        <button type="submit" class="btn btn-primary">Entrar</button>
      </div>
    </form>
  </div>
</div>

<!-- Modal de Troca de Senha -->
<div *ngIf="showLogin && mostrarTrocaSenha" class="modal-overlay">
  <div class="modal-content animate__animated animate__fadeInDown">
    <div class="text-center mb-4">
      <i class="fas fa-key fa-3x text-warning mb-3"></i>
      <h2 class="h5 font-weight-bold text-dark">Trocar Senha</h2>
    </div>
    <form (ngSubmit)="changePassword()">
      <div class="mb-3">
        <label class="form-label">Nova Senha</label>
        <input type="password" class="form-control" [(ngModel)]="newPassword" name="newPassword" required />
      </div>
      <div class="mb-3">
        <label class="form-label">Confirmar Senha</label>
        <input type="password" class="form-control" [(ngModel)]="confirmPassword" name="confirmPassword" required />
      </div>
      <div class="d-flex justify-content-between">
        <button type="button" (click)="closeLoginModal()" class="btn btn-link">Cancelar</button>
        <button type="submit" class="btn btn-success">Salvar</button>
      </div>
    </form>
  </div>
</div>
