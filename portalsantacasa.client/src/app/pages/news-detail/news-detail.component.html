<div class="container">
  <!-- Header -->
  <header class="bg-primary text-white shadow-lg">
    <div class="container py-4">
      <div class="d-flex justify-content-between align-items-center">
        <div class="d-flex align-items-center">
          <i class="fas fa-building fa-2x me-2"></i>
          <div>
            <h1 class="h4 fw-bold mb-0">Portal Intranet</h1>
            <small>Bem-vindo ao nosso portal corporativo</small>
          </div>
        </div>
        <div class="d-flex align-items-center">
          <button class="btn btn-light me-2" (click)="goBack()">
            <i class="fas fa-arrow-left"></i> Voltar
          </button>
          <a routerLink="/" class="btn btn-light">
            <i class="fas fa-home"></i> Início
          </a>
        </div>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="my-4">
    <div class="row justify-content-center">
      <div class="col-lg-8">
        <!-- Loading State -->
        <div *ngIf="isLoading" class="text-center py-5">
          <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Carregando...</span>
          </div>
          <p class="mt-3 text-secondary">Carregando notícia...</p>
        </div>

        <!-- Error State -->
        <div *ngIf="hasError" class="alert alert-danger text-center" role="alert">
          <i class="fas fa-exclamation-triangle"></i> Erro ao carregar a notícia.
        </div>

        <!-- News Content -->
        <div *ngIf="news" class="card shadow-sm">
          <div class="card-body">
            <div class="d-flex align-items-center text-muted mb-3">
              <i class="fas fa-calendar-alt me-2"></i>
              <span>{{ news.createdAt | date: 'longDate' }}</span>
              <span class="mx-2">•</span>
              <i class="fas fa-user me-2"></i>
              <span>{{ news.author_name || 'Administrador' }}</span>
            </div>
            <h1 class="card-title">{{ news.title }}</h1>
            <p class="card-text text-secondary">{{ news.description }}</p>
          </div>

          <!-- News Image -->
          <div *ngIf="news.imageUrl" class="bg-light">
            <img [src]="news.imageUrl"
                 [alt]="news.title"
                 class="img-fluid rounded" />
          </div>

          <!-- News Body -->
          <div class="card-body">
            <div [innerHTML]="news.content" class="text-secondary"></div>
          </div>

          <!-- Footer -->
          <div class="card-footer bg-light d-flex justify-content-between">
            <div>
              <button class="btn btn-link text-primary" (click)="shareNews()">
                <i class="fas fa-share-alt"></i> Compartilhar
              </button>
              <button class="btn btn-link text-secondary" (click)="printNews()">
                <i class="fas fa-print"></i> Imprimir
              </button>
            </div>
            <small class="text-muted">
              <i class="fas fa-eye"></i> Publicado em
              {{ news.createdAt | date: 'longDate' }}
            </small>
          </div>
        </div>

        <!-- Related News -->
        <section *ngIf="relatedNews.length > 0" class="mt-5">
          <h2 class="h4">Outras Notícias</h2>
          <div class="row">
            <div *ngFor="let related of relatedNews"
                 class="col-md-4 mb-4"
                 (click)="navigateToNews(related.id)">
              <div class="card h-100 shadow-sm">
                <img *ngIf="related.imageUrl"
                     [src]="related.imageUrl"
                     [alt]="related.title"
                     class="card-img-top" />
                <div class="card-body">
                  <h5 class="card-title text-truncate">{{ related.title }}</h5>
                  <p class="card-text text-muted text-truncate">
                    {{ related.description }}
                  </p>
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>
    </div>
  </main>
</div>
